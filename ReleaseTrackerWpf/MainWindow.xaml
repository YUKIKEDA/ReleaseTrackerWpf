<ui:FluentWindow
    x:Class="ReleaseTrackerWpf.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:ReleaseTrackerWpf.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ReleaseTrackerWpf"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:viewmodels="clr-namespace:ReleaseTrackerWpf.ViewModels"
    xmlns:views="clr-namespace:ReleaseTrackerWpf.Views"
    Title="ReleaseTracker"
    Width="1200"
    Height="800"
    MinWidth="800"
    MinHeight="600"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <ui:FluentWindow.Resources>
        <converters:DifferenceTypeToColorConverter x:Key="DifferenceTypeToColorConverter" />
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </ui:FluentWindow.Resources>

    <Grid Background="{StaticResource ApplicationBackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!--  Title Bar  -->
        <views:TitleBarView Title="ReleaseTracker" Grid.Row="0" />

        <!--  Tab Control  -->
        <TabControl
            Grid.Row="1"
            Margin="10"
            Background="{StaticResource ApplicationBackgroundBrush}">
            <!--  Main Tab  -->
            <TabItem Header="比較">
                <views:ComparisonView DataContext="{Binding ComparisonViewModel}" />
            </TabItem>

            <!--  Settings Tab  -->
            <TabItem Header="設定">
                <views:SettingsView DataContext="{Binding SettingsViewModel}" />
            </TabItem>
        </TabControl>

        <!--  WPF UI InfoBar for notifications (replacing Snackbar)  -->
        <ui:InfoBar
            x:Name="NotificationInfoBar"
            Title="{Binding InfoBarTitle}"
            Grid.Row="2"
            Margin="10,0,10,10"
            IsOpen="{Binding IsInfoBarOpen}"
            Message="{Binding InfoBarMessage}"
            Severity="{Binding InfoBarSeverity}" />
    </Grid>
</ui:FluentWindow>